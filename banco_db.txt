CREATE DATABASE suplementosfacil;
USE suplementosfacil;

CREATE TABLE usuario (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    sobrenome VARCHAR(100) DEFAULT NULL,
    email VARCHAR(150) NOT NULL UNIQUE,
    telefone VARCHAR(30) DEFAULT NULL,
    senha VARCHAR(255) NOT NULL,                      
);

CREATE TABLE categoria (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(100) NOT NULL UNIQUE
);

CREATE TABLE nutriente (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(150) NOT NULL unique,
    tipo VARCHAR(100) DEFAULT NULL
);


CREATE TABLE suplemento ( 
    id INT AUTO_INCREMENT PRIMARY KEY, 
     VARCHAR(150) NOT NULL, 
     quantidade_produto int, 
     categoria_id INT,  
     forma_apresentacao VARCHAR(50),
     descricao TEXT, preco DECIMAL(10,2), 
     img VARCHAR(255), 
     marca varchar(50),
     vegetariano TINYINT(1) DEFAULT 0,
    vegano TINYINT(1) DEFAULT 0,
    lactose TINYINT(1) DEFAULT 0,
    gluten TINYINT(1) DEFAULT 0 
    FOREIGN KEY (categoria_id) REFERENCES categorias(id), 
     );

CREATE TABLE suplemento_nutriente (
    id INT AUTO_INCREMENT PRIMARY KEY,
    suplemento_id INT NOT NULL,
    nutriente_id INT NOT NULL,
    quantidade DECIMAL(10,2) DEFAULT NULL,
    unidade_medida VARCHAR(50) DEFAULT NULL,

    FOREIGN KEY (suplemento_id) REFERENCES suplementos(id),
    FOREIGN KEY (nutriente_id) REFERENCES nutrientes(id)
);